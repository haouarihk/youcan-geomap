<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body,
        html,
        * {
            background: black;
            color: white;
        }
    </style>


    <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet' />
    <link href='./geomap.css' rel='stylesheet' />
</head>

<body style="max-width:600px">
    <input placeholder="lng"></input>
    <input placeholder="lat"></input>
    <input placeholder="zoom"></input>
    <div class="checkout-form">

    </div>

    <textarea id="inputspeed" cols="40" width="100%">

    </textarea>


    <script>
        const MapboxAccessToken = undefined;
    </script>

    <script src="./geomap.js"></script>

    <script>
        const d = document.getElementById("inputspeed");
        function triggerChange() {
            const datastr = d.value?.trim();
            const s = datastr.split("\n");
            console.log
            const lng = +s.find(e => e.startsWith("lng")).split(`:`)[1]
            const lat = +s.find(e => e.startsWith("lat")).split(`:`)[1]
            const zoom = +s.find(e => e.startsWith("zoom")).split(`:`)[1]

            if (!lng || !lat || !zoom) return alert("falsy");

            lngInput.value = lng;
            latInput.value = lat;
            zoomInput.value = zoom;
            map.flyTo({
                center: [lng, lat],
                essential: true, // this animation is considered essential with respect to prefers-reduced-motion
                zoom
            });
        }
        d.onchange = triggerChange;
    </script>

    <button onclick="triggerChange()">
        update
    </button>
</body>

</html>